
<%= form_for(@leave) do |f| %>
	
	<div class="box tabular">
	<% if @leave.errors.any? %>
	<div class="flash">
		<ul>
	  		<% @leave.errors.full_messages.each do |msg| %>
	    		<li><%= msg %></li>
	  		<% end %>
		</ul>
	</div>
	<% end %>
	</div>

<div>
	<fieldset>
		<legend><%= l(:label_leaves_page_description) %></legend>

		<p><%= l(:label_leave_period_absence) %></p>
		
		<p>
			<%= l(:label_leave_from) %><%= f.text_field :from_date %><%= calendar_for('leave_request_from_date') %>
			<%= l(:label_leave_to) %><%= f.text_field :to_date %><%= calendar_for('leave_request_to_date') %>
		</p>

		<p>
			<%= l(:label_leave_half_full_day) %>
			<%= f.check_box :leave_time_am, {:checked => true} %>
			<%= label_tag(:leave_time_am, l(:label_leave_am)) %>
			<%= f.check_box :leave_time_pm, {:checked => true} %>
			<%= label_tag(:leave_time_pm, l(:label_leave_pm)) %>
		</p>

		<p>
			<label><%= l(:label_leave_reason) %>:</label>
 			<%- options = (@issues_trackers.collect {|a| [a.subject, a.id]}) -%>
			<%= f.select :issue_id, options, :multiple => false, :prompt => "Please select" %>
		</p>

		<p>
			<label><%= l(:label_leave_comments) %>:</label>
			<%= f.text_field :comments, {:size => 75 } %>
		</p>


	</fieldset>
</div>


	<%= f.submit 'Create', data: { confirm: 'This will create a new leave request, but will not submit it for approval. You will be able to make changes to this request until you submit it.' } %>


<% end %>
<%= link_to 'Back', leave_requests_path %>